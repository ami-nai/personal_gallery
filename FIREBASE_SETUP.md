# Firebase Setup Guide for Personal Gallery

## Prerequisites
âœ… Android build.gradle files have been updated with Google Services plugin

## Step-by-Step Firebase Setup

### 1. Create Firebase Project
1. Go to [Firebase Console](https://console.firebase.google.com/)
2. Click **"Create a project"**
3. Project name: `personal-gallery-app` (or your preferred name)
4. Enable Google Analytics (optional)
5. Click **"Create project"**

### 2. Add Android App
1. In Firebase console, click **"Add app"** â†’ **Android**
2. **Package name**: `com.example.personal_gallery`
3. **App nickname**: `Personal Gallery`
4. Click **"Register app"**
5. **Download** `google-services.json`
6. **Move** the file to: `android/app/google-services.json`

### 3. Enable Firebase Services
In your Firebase project console:

#### Firestore Database
1. Go to **"Firestore Database"**
2. Click **"Create database"**
3. Choose **"Start in test mode"** (for development)
4. Select a location (choose closest to you)
5. Click **"Done"**

#### Firebase Storage
1. Go to **"Storage"**
2. Click **"Get started"**
3. Choose **"Start in test mode"**
4. Select same location as Firestore
5. Click **"Done"**

### 4. Update Firebase Configuration
After downloading `google-services.json`, run this command:

```bash
cd /home/ami_nai/MobileAppDevelopment/ami_nai_projects/personal_gallery
flutterfire configure
```

This will:
- Generate proper `firebase_options.dart`
- Configure all platforms
- Update project settings

### 5. Update Code to Use Real Firebase

In `lib/services/firebase_service.dart`, change:
```dart
static bool _useDemo = true; // Change to false
```

to:
```dart
static bool _useDemo = false; // Use real Firebase
```

### 6. Update Main App
In `lib/main.dart`, uncomment Firebase initialization:
```dart
// Initialize Firebase
await Firebase.initializeApp(
  options: DefaultFirebaseOptions.currentPlatform,
);
```

### 7. Test the Connection
Run the app:
```bash
flutter clean
flutter pub get
flutter run
```

## Security Rules (Optional - for Production)

### Firestore Rules
```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /gallery_images/{document} {
      allow read, write: if true; // For demo - add auth later
    }
  }
}
```

### Storage Rules
```javascript
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /images/{allPaths=**} {
      allow read, write: if true; // For demo - add auth later
    }
  }
}
```

## Troubleshooting

### Common Issues:
1. **Build errors**: Make sure `google-services.json` is in `android/app/`
2. **Plugin errors**: Run `flutter clean && flutter pub get`
3. **Permission errors**: Check Firestore and Storage rules
4. **Network errors**: Ensure internet connection and Firebase project is active

### File Locations to Check:
- âœ… `android/app/google-services.json` (from Firebase Console)
- âœ… `android/build.gradle.kts` (Google Services classpath added)
- âœ… `android/app/build.gradle.kts` (Google Services plugin applied)
- âœ… `lib/firebase_options.dart` (generated by flutterfire configure)

## Next Steps After Setup
1. Test image upload functionality
2. Verify data appears in Firestore console
3. Check images appear in Storage console
4. Add authentication (optional)
5. Update security rules for production

---
**Note**: The app is currently configured to work in demo mode. Follow these steps to connect to real Firebase and enjoy full cloud functionality! ðŸš€
